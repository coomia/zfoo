<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>my-directive</title>
    <script src="https://cdn.bootcss.com/vue/2.2.6/vue.min.js"></script>
</head>
<body>
<div id="app">
    <input type="text" v-focus>
</div>
<script>
    // 全局注册
    Vue.directive('focus', {

        // 只调用一次，指令第一次绑定到元素时调用
        bind: function () {
            console.log("bind");
        },

        // 只调用一次，指令与元素解绑时调用
        unbind: function () {
            console.log("unbind");
        },

        // element：指令所绑定的元素，可以直接用来操作DOM
        // binding：描述这个绑定信息的对象
        //          name：指令名称，不包含v前缀，这里是focus
        //          value：指令的绑定值，例如v-my-directive="1+1"，value的值是2
        //          oldValue：指令绑定前的前一个值
        //          expression：绑定值的字符串形式，例如v-my-directive="1+1"，expression的值是'1+1'
        //          arg：传给指令的参数，例如v-my-directive:foo，arg的值为foo
        // vnode：Vue编译生成的虚拟节点
        // lodVnode：上一个虚拟节点
        inserted: function (element, binding, vnode, oldVnode) {
            // 聚焦元素
            element.focus();
            console.log("inserted");
        }
    });

    // 局部注册
    var app = new Vue({
        el: '#app',
    });
</script>
</body>
</html>