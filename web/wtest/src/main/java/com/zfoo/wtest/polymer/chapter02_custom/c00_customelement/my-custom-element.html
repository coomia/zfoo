<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<dom-module id="my-custom-element">

    <template>
        <h1>A heading!</h1>
        <h2>This is my shadow DOM!</h2>
        <p>This is also my custom element!</p>
    </template>

    <script>
        class MyCustomElement extends Polymer.Element {
            static get is() {
                return "my-custom-element";
            }

            // To declare properties, add a static properties getter to the element's class. The getter should return an object containing property declarations.
            static get properties() {
                return {
                    userName: String,
                    age: {
                        type: Number,
                        value: 18,
                        readOnly: true,
                        notify: true
                    }
                }
            }

            // 元素被创建时调用，限制：必须是无参构造器；必须调用super();不能return；尽量在connectedCallback()写初始化代码
            constructor() {
                super();
                console.log("This is constructor");
            }

            // 元素第一次被添加到document时调用，因为父类的ready()做了一些初始化工作，所以必须要调用super.ready();
            ready() {
                super.ready();
                console.log("This is ready");
            }


            // 当被创建的元素标签被添加到document中，你就可以用document.getElementById()找到
            connectedCallback() {
                super.connectedCallback();
                console.log("This is connectedCallback");
                console.log("-->"+this.userName+this.age);
            }

            disconnectedCallback() {
                super.disconnectedCallback();
                console.log("This is disconnectedCallback");
            }

            attributeChangedCallback() {
                super.attributeChangedCallback();
                console.log("This is attributeChangedCallback");
            }

        }

        customElements.define(MyCustomElement.is, MyCustomElement);
    </script>

</dom-module>
