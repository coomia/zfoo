#集群监控工具


##ganglia ['ɡæŋɡliə] n.[解]神经中枢

###简介
ganglia是一个用于监控Linux系统集群环境的主机各项性能的开源软件，使用广泛。

###特点
- 优点：
1. 适合监控系统性能，通过曲线很容易见到每个节点的工作状态，对合理调整、分配系统资源，提高系统整体性能起到重要作用;
2. 支持浏览器方式访问，但不能监控节点硬件技术指标;
3. 适合大型集群环境;
4. 部署方便，不用逐台机器添加配置;
5. 一台服务器能够通过不同的分层管理上万台机器;
6. 可以自定义监控项，监控展示有表格和图像两种，支持手机版。

- 缺点：
1. 没有内置的消息通知系统;
2. 没有报警机制，出现问题不能够及时报警;


##zfoo-monitor
自定义的分布式管理系统，自主可控

###特点
通过java编写，使用nettiy的tcp传输消息，通过zookeeper配置管理中心，打成jar包，以sdk的方式集成在程序中。
集成这个sdk过后，就会定时通过Runtime执行uptime，free，df，netstat相关命令获取主机的信息，也可以自定义shell脚本。
此外，还可以附加业务逻辑产生的一些程序信息一起发给管理中心，比如流量，qps，rs，io状态。

管理中心接收到消息后，统一处理这些集群机器的信息。管理中心堆外暴露了http端口，将集群信息以柱状图，折线图等直观的形式在浏览器中的网页展现出来。
而且还可以通过这个http在网页对集群执行命令。
还集成了公司的内部邮箱，内部的通讯工具，当有警报出现的时候，可以在第一时间通知管理员。
```
qps
query per second，即每秒查询数。qps在很大程度上代表了系统在业务上的繁忙程度，而每次请求的背后，可能对应着多次磁盘I/O、所赐网络请求，以及多个CPU时间片。

rt
response time 直接关系前端的用户体验。降低rt时间需要从各个方面入手，例如：部署CDN边缘节点来缩短用户请求的物理路径；通过内容压缩来减少传输的字节数；使用缓存来减少磁盘I/O和网络请求等。

update/ps、delete/ps
请求数量过多，则可以对相应的库进行拆分，将请求分散到其他集群；

业务方需要给出总的访问量（PV、UV）以后，推导到每个独立的子系统；
```
